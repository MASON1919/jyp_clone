<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>K-POP 뉴스 소식</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        /* 커스텀 스타일: 블랙 & 화이트 테마 */
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #ffffff; /* 순수한 흰색 배경 */
            color: #1a1a1a; /* 진한 회색 텍스트로 가독성 확보 */
        }
        
        .custom-header {
            border-bottom: 2px solid #e0e0e0; /* 연한 회색 하단 경계선 */
        }
        
        .custom-header h1 {
            color: #000000; /* 제목은 순수한 검은색 */
        }
        
        .text-custom-muted {
            color: #666666; /* 커스텀 클래스로 부트스트랩의 .text-muted를 대체 */
        }
        
        .news-card-wrapper {
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            border: 1px solid #e0e0e0; /* 카드 경계선을 연하게 추가하여 분리감 부여 */
        }
        
        .news-card-wrapper:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.15);
        }
        
        /* 버튼 스타일 오버라이드: 선택자 명확도 높이기 */
        .news-card-wrapper .btn-outline-dark {
            color: #000000;
            border-color: #000000;
        }
        
        .news-card-wrapper .btn-outline-dark:hover {
            background-color: #000000;
            color: #ffffff;
        }
        
        .loading-message {
            color: #666666;
        }
    </style>
</head>

<body>

    <div class="container my-5">
        <header class="bg-white p-5 text-center rounded-4 shadow-sm mb-5 custom-header">
            <h1 class="display-5 fw-bold">K-POP 뉴스 소식</h1>
            <p class="lead mt-2 text-custom-muted">전 세계 팬들을 위한 최신 K-POP 뉴스를 만나보세요!</p>
        </header>

        <div id="loading-message" class="text-center py-5 fs-5 loading-message">
            뉴스를 불러오는 중...
        </div>
        
        <div id="news-container" class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4"></div>
    </div>

    <script>
        const API_KEY = '0417530a96cd4fd4be5544bff2339368';
        const NEWS_QUERY = 'K-pop OR K-pop idol OR 아이돌 OR 음악 OR 방탄소년단 OR 블랙핑크 OR 스트레이 키즈 OR 뉴진스 OR TWICE OR BTS OR Blackpink OR Stray Kids OR NewJeans';
        const API_URL = `https://newsapi.org/v2/everything?q=${NEWS_QUERY}&language=ko&sortBy=publishedAt&apiKey=${API_KEY}`;
        
        const newsContainer = document.getElementById('news-container');
        const loadingMessage = document.getElementById('loading-message');

        function createNewsCardHTML(article) {
            const imageUrl = article.urlToImage || 'https://placehold.co/600x400/f5f5f5/a9a9a9?text=No+Image';
            const description = article.description || '내용이 없습니다.';
            
            // 뉴스 카드에 커스텀 클래스 news-card-wrapper 적용
            return `
                <div class="col">
                    <div class="card h-100 news-card-wrapper border-0 bg-white">
                        <img src="${imageUrl}" class="card-img-top" alt="${article.title}" style="height: 200px; object-fit: cover;">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title fw-bold">${article.title}</h5>
                            <p class="card-text text-custom-muted">${description}</p>
                            <a href="${article.url}" target="_blank" rel="noopener noreferrer" class="btn btn-outline-dark mt-auto">기사 원문 보기</a>
                        </div>
                    </div>
                </div>
            `;
        }

        async function fetchNews() {
            try {
                loadingMessage.style.display = 'block';
                newsContainer.innerHTML = '';
                
                const response = await fetch(API_URL);
                if (!response.ok) {
                    const errorData = await response.json();
                    loadingMessage.textContent = `오류: ${errorData.message || response.statusText}`;
                    return;
                }
                
                const data = await response.json();
                
                loadingMessage.style.display = 'none';
                
                if (data.articles && data.articles.length > 0) {
                    const cardsHTML = data.articles.map(createNewsCardHTML).join('');
                    newsContainer.innerHTML = cardsHTML;
                } else {
                    newsContainer.innerHTML = '<p class="text-center text-custom-muted py-5 fs-5">현재 표시할 뉴스가 없습니다.</p>';
                }

            } catch (e) {
                console.error('Error fetching news:', e);
                loadingMessage.textContent = '뉴스를 불러오는 중 네트워크 오류가 발생했습니다. 다시 시도해 주세요.';
            }
        }
        
        document.addEventListener('DOMContentLoaded', fetchNews);
        
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>